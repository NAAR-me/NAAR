<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Your Life Journal - Elegant Intro & Blog</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display&family=Inter:wght@400;600&display=swap" rel="stylesheet" />
<style>
  :root {
    --bg-light: #faf7fc;
    --text-light: #3a2a5a;
    --accent-light: #7c5cbf;
    --bg-dark: #1f1a2d;
    --text-dark: #e9e4f4;
    --accent-dark: #b497e7;
    --radius: 20px;
    --shadow: 0 8px 40px rgba(124, 92, 191, 0.1);
    --font-serif: 'Playfair Display', serif;
    --font-sans: 'Inter', sans-serif;
  }
  body {
    margin: 0; padding: 0;
    font-family: var(--font-sans);
    background: var(--bg-light);
    color: var(--text-light);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    transition: background 0.3s, color 0.3s;
  }
  body.dark-mode {
    background: var(--bg-dark);
    color: var(--text-dark);
  }
  header, main, footer {
    max-width: 720px;
    margin: 0 auto;
    width: 100%;
  }
  /* Intro Section */
  #intro {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: 3rem 1.5rem 6rem;
    text-align: center;
    user-select: none;
  }
  #intro img {
    width: 140px;
    height: 140px;
    border-radius: 50%;
    object-fit: cover;
    border: 4px solid var(--accent-light);
    box-shadow: var(--shadow);
    margin-bottom: 1.5rem;
    transition: border-color 0.3s;
  }
  body.dark-mode #intro img {
    border-color: var(--accent-dark);
  }
  #intro h1 {
    font-family: var(--font-serif);
    font-weight: 700;
    font-size: 3rem;
    margin: 0 0 0.3rem 0;
    line-height: 1.1;
  }
  #intro p {
    font-size: 1.25rem;
    max-width: 480px;
    margin: 0 auto;
    color: var(--text-light);
    transition: color 0.3s;
  }
  body.dark-mode #intro p {
    color: var(--text-dark);
  }
  /* Bottom Navigation */
  footer {
    position: fixed;
    bottom: 0; left: 0; right: 0;
    background: var(--bg-light);
    border-top: 1px solid #ddd;
    display: flex;
    justify-content: center;
    gap: 2rem;
    padding: 1rem 0;
    font-weight: 600;
    font-family: var(--font-sans);
    user-select: none;
    transition: background 0.3s, border-color 0.3s;
    z-index: 1000;
  }
  body.dark-mode footer {
    background: var(--bg-dark);
    border-color: #444;
  }
  footer button {
    background: none;
    border: none;
    color: var(--accent-light);
    font-size: 1.1rem;
    cursor: pointer;
    padding: 0.25rem 0.5rem;
    border-radius: 12px;
    transition: background 0.3s, color 0.3s;
  }
  body.dark-mode footer button {
    color: var(--accent-dark);
  }
  footer button:hover,
  footer button.active {
    background: var(--accent-light);
    color: #fff;
  }
  body.dark-mode footer button:hover,
  body.dark-mode footer button.active {
    background: var(--accent-dark);
    color: #fff;
  }
  /* Blog List */
  #blog-section {
    display: none;
    padding: 3rem 1.5rem 6rem;
  }
  #blog-list {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 3rem;
  }
  .blog-card {
    background: var(--bg-light);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    padding: 2rem 2.5rem;
    cursor: pointer;
    transition: box-shadow 0.3s, background 0.3s;
    color: var(--text-light);
  }
  body.dark-mode .blog-card {
    background: var(--bg-dark);
    color: var(--text-dark);
    box-shadow: 0 8px 40px rgba(124, 92, 191, 0.3);
  }
  .blog-card:hover {
    box-shadow: 0 12px 60px rgba(124, 92, 191, 0.25);
    background: var(--accent-light);
    color: #fff;
  }
  body.dark-mode .blog-card:hover {
    background: var(--accent-dark);
    color: #fff;
  }
  .blog-title {
    font-family: var(--font-serif);
    font-weight: 700;
    font-size: 1.9rem;
    margin: 0 0 0.5rem 0;
    line-height: 1.15;
  }
  .blog-date {
    font-size: 0.9rem;
    color: var(--muted);
    margin-bottom: 1rem;
  }
  .blog-excerpt {
    font-size: 1.1rem;
    line-height: 1.6;
  }
  /* Blog Post Full View */
  #post-view {
    display: none;
    max-width: 720px;
    margin: 3rem auto 6rem;
    padding: 2rem 2.5rem;
    background: var(--bg-light);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    font-family: var(--font-serif);
    color: var(--text-light);
    line-height: 1.75;
    font-size: 1.2rem;
    position: relative;
  }
  body.dark-mode #post-view {
    background: var(--bg-dark);
    color: var(--text-dark);
    box-shadow: 0 12px 40px rgba(124, 92, 191, 0.3);
  }
  #post-view h2 {
    font-weight: 700;
    font-size: 2.8rem;
    margin-top: 0;
    margin-bottom: 0.5rem;
  }
  #post-view .post-date {
    font-size: 1rem;
    color: var(--muted);
    margin-bottom: 2rem;
  }
  #post-view .post-content p {
    margin-bottom: 1.5rem;
  }
  #post-view .close-btn {
    position: absolute;
    top: 1rem;
    right: 1.5rem;
    background: var(--accent-light);
    border: none;
    border-radius: 50%;
    width: 36px;
    height: 36px;
    font-size: 1.5rem;
    line-height: 36px;
    color: #fff;
    cursor: pointer;
    box-shadow: var(--shadow);
    transition: background 0.3s;
  }
  #post-view .close-btn:hover {
    background: var(--purple-dark);
  }
  body.dark-mode #post-view .close-btn {
    background: var(--accent-dark);
    color: var(--bg-dark);
  }
  body.dark-mode #post-view .close-btn:hover {
    background: var(--purple-light);
  }
  /* Dark mode toggle */
  #dark-mode-toggle {
    position: fixed;
    top: 1rem;
    right: 1rem;
    background: var(--accent-light);
    border: none;
    border-radius: 50%;
    width: 44px;
    height: 44px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: var(--shadow);
    transition: background 0.3s;
    z-index: 1100;
  }
  #dark-mode-toggle:hover {
    background: var(--purple-dark);
  }
  #dark-mode-toggle svg {
    width: 24px;
    height: 24px;
    fill: #fff;
  }
  /* Admin panel */
  #admin-panel {
    max-width: 720px;
    margin: 3rem auto 6rem auto;
    background: var(--accent-light);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    padding: 2rem 2.5rem;
    font-family: var(--font-sans);
    display: none;
  }
  #admin-panel h3 {
    color: var(--purple);
    margin-top: 0;
    margin-bottom: 1rem;
  }
  #admin-panel label {
    display: block;
    margin-top: 1rem;
    font-weight: 600;
  }
  #admin-panel input[type="text"],
  #admin-panel textarea {
    width: 100%;
    padding: 0.5rem;
    border-radius: 12px;
    border: 1px solid var(--accent-light);
    font-size: 1rem;
    font-family: var(--font-sans);
    resize: vertical;
  }
  #admin-panel textarea {
    min-height: 120px;
  }
  #admin-panel button {
    margin-top: 1.5rem;
    background: var(--button-bg, var(--purple));
    color: var(--button-text, #fff);
    border: none;
    padding: 0.7rem 1.5rem;
    border-radius: 16px;
    font-weight: 700;
    cursor: pointer;
    transition: background 0.3s;
  }
  #admin-panel button:hover {
    background: var(--button-hover-bg, #553d82);
  }
  /* Responsive */
  @media (max-width: 600px) {
    #intro h1 { font-size: 2.2rem; }
    #intro p { font-size: 1.1rem; max-width: 100%; }
    main, #admin-panel, #post-view {
      margin: 2rem 1rem 6rem 1rem;
      padding: 1.5rem;
    }
    .blog-card {
      padding: 1.5rem 1.8rem;
      font-size: 1rem;
    }
    .blog-card .blog-title {
      font-size: 1.5rem;
    }
  }
</style>
</head>
<body>
  <header id="intro">
    <img src="https://randomuser.me/api/portraits/women/65.jpg" alt="Your Name" id="profile-img" />
    <h1 id="site-name">Your Name</h1>
    <p id="intro-text">Welcome to my life journal. I share stories, thoughts, and reflections on growth and creativity.</p>
  </header>

  <main>
    <section id="blog-section" aria-label="Blog Posts">
      <ul id="blog-list"></ul>
    </section>

    <article id="post-view" aria-live="polite" aria-label="Blog Post">
      <button class="close-btn" aria-label="Close post view">&times;</button>
      <h2 id="post-title"></h2>
      <time id="post-date"></time>
      <div class="post-content" id="post-content"></div>
    </article>

    <section id="admin-panel" aria-label="Edit Site Content">
      <h3>Edit Website Content</h3>
      <label for="profile-img-input">Profile Image URL</label>
      <input type="text" id="profile-img-input" placeholder="Image URL" />

      <label for="site-name-input">Site Name</label>
      <input type="text" id="site-name-input" placeholder="Your Name" />

      <label for="intro-text-input">Intro Text</label>
      <textarea id="intro-text-input" placeholder="Welcome message or tagline..."></textarea>

      <h4>Blog Posts</h4>
      <div id="blog-editor-list"></div>

      <button id="add-post-btn">+ Add New Post</button>
      <button id="save-btn">Save Changes</button>
    </section>
  </main>

  <footer role="navigation" aria-label="Main navigation">
    <button id="nav-home" class="active" aria-current="page">Home</button>
    <button id="nav-blog">Blog</button>
    <!-- Login and Edit buttons added dynamically -->
  </footer>

  <button id="dark-mode-toggle" aria-label="Toggle Dark Mode" title="Toggle Dark Mode">
    <svg id="icon-sun" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" style="display:none;">
      <circle cx="12" cy="12" r="5" fill="currentColor"/>
      <g stroke="currentColor" stroke-width="2" stroke-linecap="round">
        <line x1="12" y1="1" x2="12" y2="3"/>
        <line x1="12" y1="21" x2="12" y2="23"/>
        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
        <line x1="1" y1="12" x2="3" y2="12"/>
        <line x1="21" y1="12" x2="23" y2="12"/>
        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
      </g>
    </svg>
    <svg id="icon-moon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" style="display:none;">
      <path fill="currentColor" d="M21 12.79A9 9 0 0112.21 3 7 7 0 1012 21a9 9 0 009-8.21z"/>
    </svg>
  </button>

<script>
  // Blog data
  let blogPosts = [
    {
      title: "Embracing Change: My Journey in 2025",
      date: "2025-06-01",
      excerpt: "Change is the only constant. Here’s how I learned to welcome it with open arms this year...",
      content: `
        <p>2025 has been a year of transformation. From shifting careers to moving to a new city, I’ve learned that embracing change is essential for growth. It wasn’t always easy, but every step brought new opportunities and insights.</p>
        <p>Here are my top three lessons:</p>
        <ul>
          <li>Stay curious—every change brings a chance to learn.</li>
          <li>Let go of perfection and trust the process.</li>
          <li>Celebrate small wins along the way.</li>
        </ul>
      `
    },
    {
      title: "A Weekend in Nature: Mindful Escapes",
      date: "2025-05-20",
      excerpt: "Last weekend, I unplugged and reconnected with nature. Here’s what I discovered about mindful living...",
      content: `
        <p>Stepping away from screens and into the forest, I found a new sense of calm. The sound of leaves, the scent of pine, and the rhythm of my footsteps grounded me in the present.</p>
        <p>Mindful escapes don’t need to be extravagant—a simple walk can work wonders. Next time you feel overwhelmed, try immersing yourself in nature, even if just for an hour.</p>
      `
    },
    {
      title: "My Favorite Books This Spring",
      date: "2025-04-15",
      excerpt: "Spring brought new reads and fresh perspectives. Here are three books that inspired me this season...",
      content: `
        <ol>
          <li><b>The Midnight Library</b> by Matt Haig</li>
          <li><b>Atomic Habits</b> by James Clear</li>
          <li><b>Big Magic</b> by Elizabeth Gilbert</li>
        </ol>
        <p>Each book offered unique insights on life, creativity, and growth. Highly recommended!</p>
      `
    }
  ];

  // Elements references
  const introSection = document.getElementById('intro');
  const blogSection = document.getElementById('blog-section');
  const postView = document.getElementById('post-view');
  const postTitle = document.getElementById('post-title');
  const postDate = document.getElementById('post-date');
  const postContent = document.getElementById('post-content');
  const postCloseBtn = postView.querySelector('.close-btn');

  const navHome = document.getElementById('nav-home');
  const navBlog = document.getElementById('nav-blog');

  const profileImg = document.getElementById('profile-img');
  const siteName = document.getElementById('site-name');
  const introText = document.getElementById('intro-text');

  const adminPanel = document.getElementById('admin-panel');
  const profileImgInput = document.getElementById('profile-img-input');
  const siteNameInput = document.getElementById('site-name-input');
  const introTextInput = document.getElementById('intro-text-input');
  const blogEditorList = document.getElementById('blog-editor-list');
  const addPostBtn = document.getElementById('add-post-btn');
  const saveBtn = document.getElementById('save-btn');

  const darkModeToggle = document.getElementById('dark-mode-toggle');
  const iconSun = document.getElementById('icon-sun');
  const iconMoon = document.getElementById('icon-moon');

  // Render blog list and admin editor
  function renderBlogList() {
    blogEditorList.innerHTML = '';
    const blogList = document.getElementById('blog-list');
    blogList.innerHTML = '';
    blogPosts.forEach((post, idx) => {
      // Blog list UI
      const li = document.createElement('li');
      li.className = 'blog-card';
      li.tabIndex = 0;
      li.setAttribute('role', 'button');
      li.setAttribute('aria-pressed', 'false');
      li.innerHTML = `
        <div class="blog-title">${post.title}</div>
        <div class="blog-date">${new Date(post.date).toLocaleDateString()}</div>
        <div class="blog-excerpt">${post.excerpt}</div>
      `;
      li.onclick = () => showPost(idx);
      li.onkeypress = (e) => { if(e.key === 'Enter') showPost(idx); };
      blogList.appendChild(li);

      // Admin editor UI
      const div = document.createElement('div');
      div.style = "margin-bottom:1.5rem; padding:1rem; border:1px solid var(--accent-light); border-radius:20px; background: var(--accent-light, #f3eafd);";
      div.innerHTML = `
        <label>Title</label>
        <input type="text" data-index="${idx}" data-field="title" value="${post.title}" />
        <label>Date</label>
        <input type="date" data-index="${idx}" data-field="date" value="${post.date}" />
        <label>Excerpt</label>
        <textarea class="excerpt-textarea" data-index="${idx}" data-field="excerpt">${post.excerpt}</textarea>
        <label>Content (HTML allowed)</label>
        <textarea class="content-textarea" data-index="${idx}" data-field="content" style="min-height:120px;">${post.content.trim()}</textarea>
        <button data-index="${idx}" class="delete-post-btn" style="margin-top:0.5rem; background:#a94f3d; color:#fff; border:none; border-radius:12px; padding:0.5em 1em; cursor:pointer;">Delete Post</button>
      `;
      blogEditorList.appendChild(div);
    });

    // Admin input listeners
    blogEditorList.querySelectorAll('input, textarea').forEach(el => {
      el.oninput = e => {
        const i = e.target.dataset.index;
        const f = e.target.dataset.field;
        blogPosts[i][f] = e.target.value;
      };
    });
    blogEditorList.querySelectorAll('.delete-post-btn').forEach(btn => {
      btn.onclick = () => {
        if(confirm('Delete this post?')) {
          blogPosts.splice(btn.dataset.index, 1);
          renderBlogList();
        }
      };
    });
  }

  // Show post full view
  function showPost(idx) {
    const post = blogPosts[idx];
    postTitle.textContent = post.title;
    postDate.textContent = new Date(post.date).toLocaleDateString();
    postContent.innerHTML = post.content;
    postView.style.display = 'block';
    introSection.style.display = 'none';
    blogSection.style.display = 'none';
    adminPanel.style.display = 'none';
    setActiveNav(null);
    window.scrollTo({top:0, behavior:'smooth'});
  }

  // Close post view
  postCloseBtn.onclick = () => {
    postView.style.display = 'none';
    introSection.style.display = 'flex';
    setActiveNav(navHome);
  };

  // Navigation handlers
  navHome.onclick = () => {
    introSection.style.display = 'flex';
    blogSection.style.display = 'none';
    postView.style.display = 'none';
    adminPanel.style.display = 'none';
    setActiveNav(navHome);
  };
  navBlog.onclick = () => {
    introSection.style.display = 'none';
    blogSection.style.display = 'block';
    postView.style.display = 'none';
    adminPanel.style.display = 'none';
    setActiveNav(navBlog);
  };

  function setActiveNav(activeBtn) {
    [navHome, navBlog, document.getElementById('nav-edit'), document.getElementById('nav-login')].forEach(btn => {
      if(btn) {
        if(btn === activeBtn) {
          btn.classList.add('active');
          btn.setAttribute('aria-current','page');
        } else {
          btn.classList.remove('active');
          btn.removeAttribute('aria-current');
        }
      }
    });
  }

  // Save changes from admin panel
  saveBtn.onclick = () => {
    profileImg.src = profileImgInput.value.trim() || profileImg.src;
    siteName.textContent = siteNameInput.value.trim() || siteName.textContent;
    introText.textContent = introTextInput.value.trim() || introText.textContent;
    renderBlogList();
    alert('Changes saved locally!');
  };

  addPostBtn.onclick = () => {
    blogPosts.push({
      title: 'New Post Title',
      date: new Date().toISOString().slice(0,10),
      excerpt: 'Write a short excerpt here...',
      content: '<p>Write your blog content here...</p>'
    });
    renderBlogList();
  };

  // --- ADMIN LOGIN PROTECTION ---
  const ADMIN_PASSWORD = "NewIslandhereIam@45678";

  // Remove old Edit button if it exists
  let navEdit = document.getElementById("nav-edit");
  if(navEdit) navEdit.remove();

  const footer = document.querySelector("footer");
  adminPanel.style.display = "none"; // Hide admin panel initially

  // Create Login and Edit buttons dynamically
  const loginBtn = document.createElement("button");
  loginBtn.id = "nav-login";
  loginBtn.textContent = "Login";
  loginBtn.style.fontWeight = "600";
  footer.appendChild(loginBtn);

  const editBtn = document.createElement("button");
  editBtn.id = "nav-edit";
  editBtn.textContent = "Edit";
  editBtn.style.fontWeight = "600";
  editBtn.style.display = "none"; // Hidden initially
  footer.appendChild(editBtn);

  // Check login state from localStorage
  function isLoggedIn() {
    return localStorage.getItem("isAdmin") === "true";
  }

  // Update UI based on login state
  function updateUIForLogin() {
    if(isLoggedIn()) {
      loginBtn.style.display = "none";
      editBtn.style.display = "inline-block";
    } else {
      loginBtn.style.display = "inline-block";
      editBtn.style.display = "none";
      adminPanel.style.display = "none";
      document.getElementById('intro').style.display = 'flex';
      document.getElementById('blog-section').style.display = 'none';
      document.getElementById('post-view').style.display = 'none';
    }
  }

  // Login button click handler
  loginBtn.onclick = () => {
    const pwd = prompt("Enter admin password:");
    if(pwd === ADMIN_PASSWORD) {
      localStorage.setItem("isAdmin", "true");
      updateUIForLogin();
      alert("Login successful! You can now access the Edit panel.");
      editBtn.click();
    } else if(pwd !== null) {
      alert("Incorrect password.");
    }
  };

  // Edit button click handler
  editBtn.onclick = () => {
    document.getElementById('intro').style.display = 'none';
    document.getElementById('blog-section').style.display = 'none';
    document.getElementById('post-view').style.display = 'none';
    adminPanel.style.display = 'block';
    setActiveNav(editBtn);
  };

  // Add a Logout button inside admin panel for convenience
  const logoutBtn = document.createElement("button");
  logoutBtn.textContent = "Logout";
  logoutBtn.style.background = "#a94f3d";
  logoutBtn.style.color = "#fff";
  logoutBtn.style.border = "none";
  logoutBtn.style.padding = "0.5em 1em";
  logoutBtn.style.borderRadius = "12px";
  logoutBtn.style.marginTop = "1rem";
  logoutBtn.style.cursor = "pointer";
  adminPanel.appendChild(logoutBtn);

  logoutBtn.onclick = () => {
    localStorage.removeItem("isAdmin");
    updateUIForLogin();
    alert("Logged out.");
  };

  // Dark mode toggle
  function updateDarkModeIcon() {
    if(document.body.classList.contains('dark-mode')) {
      iconSun.style.display = 'block';
      iconMoon.style.display = 'none';
    } else {
      iconSun.style.display = 'none';
      iconMoon.style.display = 'block';
    }
  }
  darkModeToggle.onclick = () => {
    document.body.classList.toggle('dark-mode');
    updateDarkModeIcon();
  };

  // Initialize
  function init() {
    profileImgInput.value = profileImg.src;
    siteNameInput.value = siteName.textContent;
    introTextInput.value = introText.textContent;
    renderBlogList();
    setActiveNav(navHome);
    updateUIForLogin();
    updateDarkModeIcon();
  }
  init();
</script>
</body>
</html>
